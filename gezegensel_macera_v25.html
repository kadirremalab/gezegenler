<!DOCTYPE html>
<html>
<head>
<title>Yer Çekimsiz Gezegen Macerası (V47 - Görsel ve Sesli)</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
    /* 1. ARKA PLAN VE GENEL STİLLER (BEYAZ EKRAN HATASINI ÖNLEMEK İÇİN GÜÇLENDİRİLDİ) */
    body {
        overflow: hidden;
        background-color: #34495e; /* Varsayılan Arkaplan Rengi */
        font-family: Arial, sans-serif;
        margin: 0;
        transition: background-color 1s ease, background-image 1s ease;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }
    #startScreen h1, #endScreen h1, #pauseScreen h1, #scoreboard { font-family: 'Press Start 2P', cursive; }
    #gameContainer { position: relative; width: 100vw; height: 100vh; overflow: hidden; cursor: default; }
    .screen-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); color: white; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; z-index: 1000; }
    .hidden { display: none !important; }

    /* 2. OYUNCU STİLİ */
    #player {
        width: 40px; height: 40px; position: absolute; top: 50%; left: 50%;
        transform: translate(-50%, -50%); z-index: 50;
        background: radial-gradient(circle at 50% 50%, #ffcc00 0%, #ff6600 50%, #cc0000 100%);
        border-radius: 50%;
        box-shadow: 0 0 15px 5px rgba(255, 102, 0, 0.7), 0 0 30px 10px rgba(255, 0, 0, 0.5);
        animation: flamePulse 1.5s infinite alternate;
    }
    @keyframes flamePulse { 0% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.05); } 100% { transform: translate(-50%, -50%) scale(1); } }

    /* 3. ENGEL STİLLERİ */
    .obstacle-row { position: absolute; bottom: -30px; left: 0; width: 100%; display: flex; align-items: center; z-index: 40; height: 30px; }
    .obstacle-segment { 
        height: 100%; 
        background: radial-gradient(circle at 50% 50%, #f7f7f7 0%, #5D6D7E 100%); /* Varsayılan Engel Rengi */
        box-shadow: 0 0 8px rgba(0, 0, 0, 0.5); border-radius: 5px; 
    }
    .obstacle-gap { background-color: transparent; height: 100%; }

    /* 4. ARAYÜZ VE BUTON STİLLERİ */
    .info-box { position: absolute; padding: 10px; background-color: rgba(0, 0, 0, 0.5); color: white; border-radius: 5px; z-index: 100; font-family: 'Press Start 2P', cursive; font-size: 0.8em; }
    #scoreboard { top: 10px; left: 10px; }
    #timer { top: 10px; right: 10px; }
    
    .btn { padding: 15px 30px; margin-top: 20px; font-size: 20px; cursor: pointer; border: none; border-radius: 5px; background-color: #2ecc71; color: white; transition: background-color 0.3s; font-family: 'Press Start 2P', cursive; font-size: 0.8em; }
    .btn:hover { background-color: #27ae60; }
    #usernameInput, #endUsernameInput { padding: 12px 20px; margin: 15px 0; border: 2px solid #3498db; border-radius: 8px; font-size: 1.2em; text-align: center; background-color: rgba(255, 255, 255, 0.9); color: #333; transition: all 0.3s; width: 250px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); }
    
    /* GÜÇLENDİRME STİLİ */
    #powerup { position: absolute; width: 25px; height: 25px; border-radius: 50%; background: radial-gradient(circle, #3498db 0%, #2ecc71 100%); box-shadow: 0 0 10px rgba(52, 152, 219, 0.9); z-index: 60; animation: spin 3s linear infinite; cursor: pointer; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .slow-motion-body { filter: blur(2px) brightness(80%); }
    
</style>
</head>
<body>

<div id="gameContainer">
    <div id="startScreen" class="screen-overlay">
        <h1>GEZEGENSEL MACERA</h1>
        <p>Kural: Tam serbest hareket ile boşluklardan geçin.</p>
        <p>Kontroller: Oklar / WASD ile 8 yöne hareket.</p>
        
        <label for="usernameInput" style="font-size: 1.2em; margin-top: 10px; color: #f1c40f;">Kullanıcı Adınız:</label>
        <input type="text" id="usernameInput" placeholder="Adınızı Girin" maxlength="15" value="Anonim">
        
        <button id="startButton" class="btn">Oyunu Başlat</button>
    </div>

    <div id="endScreen" class="screen-overlay hidden">
        <h1>OYUN BİTTİ!</h1>
        <h2>Final Skorunuz: <span id="finalScore">0</span></h2>
        <p>Oynama Süresi: <span id="finalTime">00:00</span></p>
        
        <div id="scoreEntry" style="margin-top: 20px;">
             <label for="endUsernameInput" style="font-size: 1.2em; margin-top: 10px;">Skoru Kaydet:</label>
             <input type="text" id="endUsernameInput" placeholder="Adınızı Girin" maxlength="15">
             <button id="confirmScoreBtn" class="btn" style="background-color: #e74c3c;">Skoru Kaydet & Tabloyu Göster</button>
        </div>
        
        <h3>Top 10 Skor Tablosu</h3>
        <ul id="leaderboardList" style="list-style: none; padding: 0;"></ul>

        <button id="restartButton" class="btn" style="background-color: #3498db;">Tekrar Oyna</button>
    </div>

    <div id="pauseScreen" class="screen-overlay hidden">
        <h1>DURAKLATILDI</h1>
        <p>Devam etmek için **SPACE**, **P** veya **ESC** tuşuna basın.</p>
        <button id="resumeButton" class="btn" style="background-color: #3498db;">Devam Et</button>
    </div>

    <div id="scoreboard" class="info-box hidden"></div>
    <div id="timer" class="info-box hidden">Süre: <span id="timeValue">00:00</span></div>
    
    <div id="player"></div>
    <div id="powerup" class="hidden"></div> 
</div>

<script>
    // --- V47: Ses ve Görsel Dosyaları için güncellendi ---

    // GÖRSEL VE SES DOSYALARININ YOLU - LÜTFEN BU ADRESİ KONTROL EDİN!
    const BASE_URL = 'https://kadirremalab
